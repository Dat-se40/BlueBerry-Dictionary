<Window x:Class="BlueBerryDictionary.Views.Dialogs.BackgroundUploadDialog"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Upload ảnh nền"
        Width="550"
        Height="450"
        WindowStartupLocation="CenterOwner"
        Background="{DynamicResource CardBackground}"
        ResizeMode="NoResize"
        WindowStyle="None"
        AllowsTransparency="True">

    <Border CornerRadius="20" Background="{DynamicResource CardBackground}"
            BorderBrush="{DynamicResource BorderColor}" BorderThickness="2">
        <Grid Margin="30">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>

            <!-- Header -->
            <Grid Margin="0,0,0,20">
                <StackPanel Orientation="Horizontal">
                    <TextBlock Text="🖼️" FontSize="28" Margin="0,0,12,0"/>
                    <TextBlock Text="Upload ảnh nền"
                               FontSize="22"
                               FontWeight="Bold"
                               Foreground="{DynamicResource TextColor}"
                               VerticalAlignment="Center"/>
                </StackPanel>

                <Button Content="×"
                        FontSize="36"
                        Width="45"
                        Height="45"
                        HorizontalAlignment="Right"
                        VerticalAlignment="Top"
                        Background="Transparent"
                        BorderThickness="0"
                        Foreground="{DynamicResource TextColor}"
                        Cursor="Hand"
                        Click="Close_Click"/>
            </Grid>

            <!-- Upload Area -->
            <Border Grid.Row="1"
                    BorderBrush="{DynamicResource BorderColor}"
                    BorderThickness="3"
                    CornerRadius="15"
                    Background="{DynamicResource SearchBackground}"
                    Cursor="Hand"
                    MouseDown="UploadArea_Click">
                <Grid>
                    <!-- Placeholder -->
                    <StackPanel x:Name="PlaceholderPanel"
                                VerticalAlignment="Center"
                                HorizontalAlignment="Center">
                        <TextBlock Text="🖼️"
                                   FontSize="64"
                                   TextAlignment="Center"
                                   Margin="0,0,0,15"/>
                        <TextBlock Text="Chọn ảnh nền"
                                   FontSize="18"
                                   FontWeight="SemiBold"
                                   TextAlignment="Center"
                                   Foreground="{DynamicResource TextColor}"
                                   Margin="0,0,0,8"/>
                        <TextBlock Text="Nhấn để chọn ảnh từ thiết bị"
                                   FontSize="14"
                                   TextAlignment="Center"
                                   Foreground="{DynamicResource TextColor}"
                                   Opacity="0.7"/>
                    </StackPanel>

                    <!-- Preview Image -->
                    <Image x:Name="PreviewImage"
                           Visibility="Collapsed"
                           Stretch="UniformToFill"/>
                </Grid>
            </Border>

            <!-- Action Buttons -->
            <Grid Grid.Row="2" Margin="0,20,0,0">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="15"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>

                <Button Grid.Column="0"
                        Content="↺ Reset"
                        Style="{StaticResource SecondaryButtonStyle}"
                        Padding="0,14"
                        FontSize="15"
                        Click="Reset_Click"/>

                <Button Grid.Column="2"
                        Content="✓ Áp dụng"
                        Style="{StaticResource SecondaryButtonStyle}"
                        Padding="0,14"
                        FontSize="15"
                        Click="Apply_Click"/>
            </Grid>
        </Grid>
    </Border>
</Window>