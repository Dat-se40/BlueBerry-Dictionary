<Window x:Class="BlueBerryDictionary.Views.Dialogs.FontPickerDialog"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Select Font"
        Width="600"
        Height="650"
        WindowStartupLocation="CenterOwner"
        Background="{DynamicResource CardBackground}"
        ResizeMode="NoResize"
        WindowStyle="None"
        AllowsTransparency="True">

    <Border CornerRadius="20" Background="{DynamicResource CardBackground}"
            BorderBrush="{DynamicResource BorderColor}" BorderThickness="2">
        <Grid Margin="30">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <!-- Header -->
                <RowDefinition Height="Auto"/>
                <!-- Font Size Selector -->
                <RowDefinition Height="*"/>
                <!-- Font List -->
                <RowDefinition Height="Auto"/>
                <!-- Preview -->
                <RowDefinition Height="Auto"/>
                <!-- Apply Button -->
            </Grid.RowDefinitions>

            <!-- Header -->
            <Grid Margin="0,0,0,20">
                <StackPanel Orientation="Horizontal">
                    <TextBlock Text="🔤" FontSize="28" Margin="0,0,12,0"/>
                    <TextBlock Text="Select Font and Size"
                               FontSize="22"
                               FontWeight="Bold"
                               Foreground="{DynamicResource TextColor}"
                               VerticalAlignment="Center"/>
                </StackPanel>

                <Button Content="×"
                        FontSize="36"
                        Width="45"
                        Height="45"
                        HorizontalAlignment="Right"
                        VerticalAlignment="Top"
                        Background="Transparent"
                        BorderThickness="0"
                        Foreground="{DynamicResource TextColor}"
                        Cursor="Hand"
                        Click="Close_Click"/>
            </Grid>

            <!-- Font Size Selector -->
            <Grid Grid.Row="1" Margin="0,0,0,15">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>

                <TextBlock Grid.Column="0"
                           Text="Size:"
                           FontSize="15"
                           FontWeight="SemiBold"
                           Foreground="{DynamicResource TextColor}"
                           VerticalAlignment="Center"
                           Margin="0,0,15,0"/>

                <ComboBox Grid.Column="1"
                          x:Name="FontSizeComboBox"
                          SelectedIndex="2"
                          Style="{StaticResource SettingsComboBoxStyle}"
                          SelectionChanged="FontSizeComboBox_SelectionChanged">
                    <ComboBoxItem Content="10" Tag="10"/>
                    <ComboBoxItem Content="12" Tag="12"/>
                    <ComboBoxItem Content="14" Tag="14"/>
                    <ComboBoxItem Content="16" Tag="16"/>
                    <ComboBoxItem Content="18" Tag="18"/>
                    <ComboBoxItem Content="20" Tag="20"/>
                    <ComboBoxItem Content="22" Tag="22"/>
                    <ComboBoxItem Content="24" Tag="24"/>
                </ComboBox>
            </Grid>

            <!-- Font List -->
            <Border Grid.Row="2"
                    BorderBrush="{DynamicResource BorderColor}"
                    BorderThickness="2"
                    CornerRadius="12"
                    Background="{DynamicResource SearchBackground}">
                <ScrollViewer VerticalScrollBarVisibility="Auto">
                    <ListBox x:Name="FontListBox"
                             BorderThickness="0"
                             Background="Transparent"
                             SelectionMode="Single"
                             SelectionChanged="FontListBox_SelectionChanged">
                        <ListBox.ItemContainerStyle>
                            <Style TargetType="ListBoxItem">
                                <Setter Property="Padding" Value="15,12"/>
                                <Setter Property="Cursor" Value="Hand"/>
                                <Setter Property="Template">
                                    <Setter.Value>
                                        <ControlTemplate TargetType="ListBoxItem">
                                            <Border Background="{TemplateBinding Background}"
                                                    Padding="{TemplateBinding Padding}">
                                                <ContentPresenter/>
                                            </Border>
                                        </ControlTemplate>
                                    </Setter.Value>
                                </Setter>
                                <Style.Triggers>
                                    <Trigger Property="IsMouseOver" Value="True">
                                        <Setter Property="Background" Value="{DynamicResource ToolButtonActive}"/>
                                        <Setter Property="Foreground" Value="White"/>
                                    </Trigger>
                                    <Trigger Property="IsSelected" Value="True">
                                        <Setter Property="Background" Value="{DynamicResource ToolButtonActive}"/>
                                        <Setter Property="Foreground" Value="White"/>
                                    </Trigger>
                                </Style.Triggers>
                            </Style>
                        </ListBox.ItemContainerStyle>
                        <ListBox.ItemTemplate>
                            <DataTemplate>
                                <StackPanel>
                                    <TextBlock Text="{Binding Source}"
                                               FontFamily="{Binding}"
                                               FontSize="16"
                                               FontWeight="SemiBold"/>
                                    <TextBlock Text="The quick brown fox jumps"
                                               FontFamily="{Binding}"
                                               FontSize="13"
                                               Opacity="0.7"
                                               Margin="0,5,0,0"/>
                                </StackPanel>
                            </DataTemplate>
                        </ListBox.ItemTemplate>
                    </ListBox>
                </ScrollViewer>
            </Border>

            <!-- Preview -->
            <Border Grid.Row="3"
                    BorderBrush="{DynamicResource BorderColor}"
                    BorderThickness="2"
                    CornerRadius="12"
                    Padding="20"
                    Margin="0,15,0,0"
                    Background="{DynamicResource SearchBackground}">
                <StackPanel>
                    <TextBlock Text="Preview:"
                               FontSize="13"
                               Foreground="{DynamicResource TextColor}"
                               Opacity="0.7"
                               Margin="0,0,0,10"/>
                    <TextBlock x:Name="PreviewText"
                               Text="BlueBerry Dictionary – English-English Dictionary"
                               FontSize="14"
                               FontWeight="SemiBold"
                               Foreground="{DynamicResource TextColor}"
                               TextWrapping="Wrap"/>
                </StackPanel>
            </Border>

            <!-- Apply Button -->
            <Button Grid.Row="4"
                    Content="✓ Apply"
                    Style="{StaticResource SecondaryButtonStyle}"
                    Padding="0,14"
                    FontSize="16"
                    Margin="0,15,0,0"
                    Click="Apply_Click"/>
        </Grid>
    </Border>
</Window>
