<Page x:Class="BlueBerryDictionary.Views.Pages.SettingsPage"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
      xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
      mc:Ignorable="d"
      d:DesignHeight="800" d:DesignWidth="1200"
      Background="{DynamicResource MainBackground}">

    <ScrollViewer VerticalScrollBarVisibility="Auto">
        <StackPanel MaxWidth="900" Margin="30">

            <!-- ============ PAGE HEADER ============ -->
            <Border Style="{StaticResource CardStyle}" Margin="0,0,0,30">
                <StackPanel Orientation="Horizontal">
                    <TextBlock Text="⚙️" FontSize="48" Margin="0,0,15,0"
                               Foreground="{DynamicResource TextColor}" />
                    <StackPanel>
                        <TextBlock Text="Settings"
                                   FontSize="32"
                                   FontWeight="Bold"
                                   Foreground="{DynamicResource TextColor}" />
                        <TextBlock Text="App Settings and Customization"
                                   FontSize="15"
                                   Foreground="{DynamicResource TextColor}"
                                   Opacity="0.8" />
                    </StackPanel>
                </StackPanel>
            </Border>

            <!-- ============ APPEARANCE SECTION ============ -->
            <Border Style="{StaticResource CardStyle}" Margin="0,0,0,25" Height="329">
                <StackPanel>
                    <!-- Header -->
                    <StackPanel Orientation="Horizontal" Margin="0,0,0,20">
                        <TextBlock Text="☀️" FontSize="24" Margin="0,0,12,0"
                                   Foreground="{DynamicResource TextColor}" />
                        <TextBlock Text="Interface &amp; Display"
                                   FontSize="18"
                                   FontWeight="Bold"
                                   Foreground="{DynamicResource TextColor}" />
                    </StackPanel>

                    <!-- Theme Mode -->
                    <Border BorderBrush="{DynamicResource BorderColor}"
                            BorderThickness="0,0,0,1"
                            Padding="0,15">
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*" />
                                <ColumnDefinition Width="Auto" />
                            </Grid.ColumnDefinitions>

                            <StackPanel>
                                <TextBlock Text="Theme Mode"
                                           FontSize="15"
                                           FontWeight="SemiBold"
                                           Foreground="{DynamicResource TextColor}" />
                                <TextBlock Text="Choose Light, Dark, or System theme"
                                           FontSize="13"
                                           Foreground="{DynamicResource TextColor}"
                                           Opacity="0.7"
                                           Margin="0,5,0,0" />
                            </StackPanel>
                            <ComboBox Grid.Column="1"
                                      x:Name="ThemeModeComboBox"
                                      SelectedIndex="0"
                                      MinWidth="150"
                                      Style="{StaticResource SettingsComboBoxStyle}"
                                      SelectionChanged="ThemeModeComboBox_SelectionChanged">
                                <ComboBoxItem Content="Light" Style="{StaticResource ComboBoxItemFirstStyle}"/>
                                <ComboBoxItem Content="Dark" Style="{StaticResource ComboBoxItemStyle}"/>
                                <ComboBoxItem Content="System" Style="{StaticResource ComboBoxItemLastStyle}"/> 
                            </ComboBox>

                        </Grid>
                    </Border>

                    <!-- ✅ MỚI: Color Theme -->
                    <Border BorderBrush="{DynamicResource BorderColor}"
                            BorderThickness="0,0,0,1"
                            Padding="0,15">
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*" />
                                <ColumnDefinition Width="Auto" />
                            </Grid.ColumnDefinitions>

                            <StackPanel>
                                <TextBlock Text="Color Theme"
                                           FontSize="15"
                                           FontWeight="SemiBold"
                                           Foreground="{DynamicResource TextColor}" />
                                <TextBlock Text="Choose App Color Palette"
                                           FontSize="13"
                                           Foreground="{DynamicResource TextColor}"
                                           Opacity="0.7"
                                           Margin="0,5,0,0" />
                            </StackPanel>

                            <ComboBox Grid.Column="1"
                                      x:Name="ColorThemeComboBox"
                                      SelectedIndex="0"
                                      MinWidth="200"
                                      Style="{StaticResource SettingsComboBoxStyle}"
                                      SelectionChanged="ColorThemeComboBox_SelectionChanged">
                                <ComboBoxItem Content="Default" Tag="default" Style="{StaticResource ComboBoxItemFirstStyle}"/>
                                <ComboBoxItem Content="✓ Predefined Themes" Tag="preset_active" Visibility="Collapsed" Style="{StaticResource ComboBoxItemStyle}"/>
                                <ComboBoxItem Content="✓ Custom Colors" Tag="custom_active" Visibility="Collapsed" Style="{StaticResource ComboBoxItemStyle}"/>
                                <ComboBoxItem Content="Choose Predefined Themes..." Tag="preset_picker" Style="{StaticResource ComboBoxItemStyle}"/>
                                <ComboBoxItem Content="Choose Custom Colors..." Tag="custom_picker" Style="{StaticResource ComboBoxItemLastStyle}"/>
                            </ComboBox>

                        </Grid>
                    </Border>

                    <!-- Font Family -->
                    <Border BorderBrush="{DynamicResource BorderColor}"
                            BorderThickness="0,0,0,1"
                            Padding="0,15">
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*" />
                                <ColumnDefinition Width="Auto" />
                            </Grid.ColumnDefinitions>

                            <StackPanel>
                                <TextBlock Text="Font Style"
                                           FontSize="15"
                                           FontWeight="SemiBold"
                                           Foreground="{DynamicResource TextColor}" />
                                <TextBlock Text="Select display font"
                                           FontSize="13"
                                           Foreground="{DynamicResource TextColor}"
                                           Opacity="0.7"
                                           Margin="0,5,0,0" />
                            </StackPanel>

                            <ComboBox Grid.Column="1"
                                      x:Name="FontFamilyComboBox"
                                      SelectedIndex="0"
                                      MinWidth="180"
                                      Style="{StaticResource SettingsComboBoxStyle}"
                                      SelectionChanged="FontFamilyComboBox_SelectionChanged">
                                <ComboBoxItem Content="Default" Tag="default" Style="{StaticResource ComboBoxItemFirstStyle}"/>
                                <ComboBoxItem Content="✓ Customize" Tag="custom_active" Visibility="Collapsed" Style="{StaticResource ComboBoxItemStyle}"/>
                                <ComboBoxItem Content="Choose font..." Tag="custom_picker" Style="{StaticResource ComboBoxItemLastStyle}"/>
                            </ComboBox>

                        </Grid>
                    </Border>
                </StackPanel>
            </Border>

            <!-- ============ HELP & INFO SECTION ============ -->
            <Border Style="{StaticResource CardStyle}">
                <StackPanel>
                    <!-- Header -->
                    <StackPanel Orientation="Horizontal" Margin="0,0,0,20">
                        <TextBlock Text="❓" FontSize="24" Margin="0,0,12,0"
                                   Foreground="{DynamicResource TextColor}" />
                        <TextBlock Text="Support &amp; Information"
                                   FontSize="18"
                                   FontWeight="Bold"
                                   Foreground="{DynamicResource TextColor}" />
                    </StackPanel>

                    <!-- User Guide -->
                    <Border BorderBrush="{DynamicResource BorderColor}"
                            BorderThickness="0,0,0,1"
                            Padding="0,15">
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*" />
                                <ColumnDefinition Width="Auto" />
                            </Grid.ColumnDefinitions>

                            <StackPanel>
                                <TextBlock Text="User Guide"
                                           FontSize="15"
                                           FontWeight="SemiBold"
                                           Foreground="{DynamicResource TextColor}" />
                                <TextBlock Text="View Detailed Guide"
                                           FontSize="13"
                                           Foreground="{DynamicResource TextColor}"
                                           Opacity="0.7"
                                           Margin="0,5,0,0" />
                            </StackPanel>

                            <Button Grid.Column="1"
                                    Style="{StaticResource SecondaryButtonStyle}"
                                    Click="OpenUserGuide_Click">
                                <StackPanel Orientation="Horizontal">
                                    <TextBlock Text="📖" FontSize="16" Margin="0,0,8,0" />
                                    <TextBlock Text="View" />
                                </StackPanel>
                            </Button>
                        </Grid>
                    </Border>

                    <!-- FAQ -->
                    <Border BorderBrush="{DynamicResource BorderColor}"
                            BorderThickness="0,0,0,1"
                            Padding="0,15">
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*" />
                                <ColumnDefinition Width="Auto" />
                            </Grid.ColumnDefinitions>

                            <StackPanel>
                                <TextBlock Text="Frequently Asked Questions"
                                           FontSize="15"
                                           FontWeight="SemiBold"
                                           Foreground="{DynamicResource TextColor}" />
                                <TextBlock Text="FAQ &amp; Troubleshooting"
                                           FontSize="13"
                                           Foreground="{DynamicResource TextColor}"
                                           Opacity="0.7"
                                           Margin="0,5,0,0" />
                            </StackPanel>

                            <Button Grid.Column="1"
                                    Style="{StaticResource SecondaryButtonStyle}"
                                    Click="OpenFAQ_Click">
                                <StackPanel Orientation="Horizontal">
                                    <TextBlock Text="❓" FontSize="16" Margin="0,0,8,0" />
                                    <TextBlock Text="View" />
                                </StackPanel>
                            </Button>
                        </Grid>
                    </Border>

                    <!-- Contact Support -->
                    <Border BorderBrush="{DynamicResource BorderColor}"
                            BorderThickness="0,0,0,1"
                            Padding="0,15">
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*" />
                                <ColumnDefinition Width="Auto" />
                            </Grid.ColumnDefinitions>

                            <StackPanel>
                                <TextBlock Text="Contact Support"
                                           FontSize="15"
                                           FontWeight="SemiBold"
                                           Foreground="{DynamicResource TextColor}" />
                                <TextBlock Text="Submit a Support Request"
                                           FontSize="13"
                                           Foreground="{DynamicResource TextColor}"
                                           Opacity="0.7"
                                           Margin="0,5,0,0" />
                            </StackPanel>

                            <Button Grid.Column="1"
                                    Style="{StaticResource SecondaryButtonStyle}"
                                    Click="OpenContact_Click">
                                <StackPanel Orientation="Horizontal">
                                    <TextBlock Text="📧" FontSize="16" Margin="0,0,8,0" />
                                    <TextBlock Text="Contact" />
                                </StackPanel>
                            </Button>
                        </Grid>
                    </Border>

                    <!-- Report Bug -->
                    <Border BorderBrush="{DynamicResource BorderColor}"
                            BorderThickness="0,0,0,1"
                            Padding="0,15">
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*" />
                                <ColumnDefinition Width="Auto" />
                            </Grid.ColumnDefinitions>

                            <StackPanel>
                                <TextBlock Text="Report a Bug"
                                           FontSize="15"
                                           FontWeight="SemiBold"
                                           Foreground="{DynamicResource TextColor}" />
                                <TextBlock Text="Report a bug or issue"
                                           FontSize="13"
                                           Foreground="{DynamicResource TextColor}"
                                           Opacity="0.7"
                                           Margin="0,5,0,0" />
                            </StackPanel>

                            <Button Grid.Column="1"
                                    Style="{StaticResource SecondaryButtonStyle}"
                                    Click="OpenReportBug_Click">
                                <StackPanel Orientation="Horizontal">
                                    <TextBlock Text="🐛" FontSize="16" Margin="0,0,8,0" />
                                    <TextBlock Text="Report a Bug" />
                                </StackPanel>
                            </Button>
                        </Grid>
                    </Border>

                    <!-- Rate App -->
                    <Border BorderBrush="{DynamicResource BorderColor}"
                            BorderThickness="0,0,0,1"
                            Padding="0,15">
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*" />
                                <ColumnDefinition Width="Auto" />
                            </Grid.ColumnDefinitions>

                            <StackPanel>
                                <TextBlock Text="Rate the App"
                                           FontSize="15"
                                           FontWeight="SemiBold"
                                           Foreground="{DynamicResource TextColor}" />
                                <TextBlock Text="Rate on App Store / Play Store"
                                           FontSize="13"
                                           Foreground="{DynamicResource TextColor}"
                                           Opacity="0.7"
                                           Margin="0,5,0,0" />
                            </StackPanel>

                            <Button Grid.Column="1"
                                    Style="{StaticResource SecondaryButtonStyle}"
                                    Click="OpenRateApp_Click">
                                <StackPanel Orientation="Horizontal">
                                    <TextBlock Text="⭐" FontSize="16" Margin="0,0,8,0" />
                                    <TextBlock Text="Rating" />
                                </StackPanel>
                            </Button>
                        </Grid>
                    </Border>

                    <!-- About App -->
                    <Border BorderBrush="{DynamicResource BorderColor}"
                            BorderThickness="0,0,0,1"
                            Padding="0,15">
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*" />
                                <ColumnDefinition Width="Auto" />
                            </Grid.ColumnDefinitions>

                            <StackPanel>
                                <TextBlock Text="About the app"
                                           FontSize="15"
                                           FontWeight="SemiBold"
                                           Foreground="{DynamicResource TextColor}" />
                                <TextBlock Text="Version 1.0.0 • Build 2025.01"
                                           FontSize="13"
                                           Foreground="{DynamicResource TextColor}"
                                           Opacity="0.7"
                                           Margin="0,5,0,0" />
                            </StackPanel>
                            <Button Grid.Column="1"
                                    Style="{StaticResource SecondaryButtonStyle}"
                                    Click="OpenAbout_Click">
                                <StackPanel Orientation="Horizontal">
                                    <TextBlock Text="ℹ️" FontSize="16" Margin="0,0,8,0" />
                                    <TextBlock Text="View" />
                                </StackPanel>
                            </Button>
                        </Grid>
                    </Border>

                    <!-- Terms & Privacy -->
                    <Border BorderBrush="{DynamicResource BorderColor}"
                            BorderThickness="0,0,0,1"
                            Padding="0,15">
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*" />
                                <ColumnDefinition Width="Auto" />
                            </Grid.ColumnDefinitions>

                            <StackPanel>
                                <TextBlock Text="Terms of Service"
                                           FontSize="15"
                                           FontWeight="SemiBold"
                                           Foreground="{DynamicResource TextColor}" />
                                <TextBlock Text="Terms &amp; Privacy Policy"
                                           FontSize="13"
                                           Foreground="{DynamicResource TextColor}"
                                           Opacity="0.7"
                                           Margin="0,5,0,0" />
                            </StackPanel>

                            <Button Grid.Column="1"
                                    Style="{StaticResource SecondaryButtonStyle}"
                                    Click="OpenTerms_Click">
                                <StackPanel Orientation="Horizontal">
                                    <TextBlock Text="📄" FontSize="16" Margin="0,0,8,0" />
                                    <TextBlock Text="View" />
                                </StackPanel>
                            </Button>
                        </Grid>
                    </Border>

                    <!-- Open Source Licenses -->
                    <Border Padding="0,15,0,0">
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*" />
                                <ColumnDefinition Width="Auto" />
                            </Grid.ColumnDefinitions>

                            <StackPanel>
                                <TextBlock Text="Source Code License"
                                           FontSize="15"
                                           FontWeight="SemiBold"
                                           Foreground="{DynamicResource TextColor}" />
                                <TextBlock Text="Open source licenses"
                                           FontSize="13"
                                           Foreground="{DynamicResource TextColor}"
                                           Opacity="0.7"
                                           Margin="0,5,0,0" />
                            </StackPanel>

                            <Button Grid.Column="1"
                                    Style="{StaticResource SecondaryButtonStyle}"
                                    Click="OpenLicenses_Click">
                                <StackPanel Orientation="Horizontal">
                                    <TextBlock Text="⚖️" FontSize="16" Margin="0,0,8,0" />
                                    <TextBlock Text="View" />
                                </StackPanel>
                            </Button>
                        </Grid>
                    </Border>
                </StackPanel>
            </Border>

        </StackPanel>
    </ScrollViewer>

</Page>